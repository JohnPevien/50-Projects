---
import Layout from '../../layouts/Layout.astro'
---

<Layout title="Split Landing Page">
    <div class="container">
        <div class="split left">
            <h1>Playstation 5</h1>
            <a href="#" class="btn">By Now</a>
        </div>
        <div class="split right">
            <h1>XBox Series X</h1>
            <a href="#" class="btn">By Now</a>
        </div>
    </div>
</Layout>

<style>
    :root {
        --left-bg-color: rgba(87, 84, 236, 0.7);
        --right-bg-color: rgba(43, 43, 43, 0.8);
        --left-btn-color: rgba(87, 84, 236, 1);
        --right-btn-color: rgba(28, 122, 28, 1);
        --hover-width: 70%;
        --collapse-width: 30%;
    }
    * {
        box-sizing: border-box;
    }

    body {
        font-family: 'Roboto', sans-serif;
        height: 100vh;
        overflow: hidden;
        margin: 0;
    }

    .container {
        position: relative;
        width: 100%;
        height: 100%;
        background: #333;
    }

    .split {
        position: absolute;
        width: 50%;
        height: 100%;
        overflow: hidden;
    }

    .split.left {
        left: 0;
        background: url('/ps.jpg') no-repeat center center/cover;
    }

    .split.left::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        background: var(--left-bg-color);
    }

    .split.right {
        right: 0;
        background: url('/xbox.jpg') no-repeat center center/cover;
    }

    .split.right::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        background: var(--right-bg-color);
    }

    h1 {
        font-size: 4rem;
        color: #fff;
        position: absolute;
        left: 50%;
        top: 20%;
        transform: translateX(-50%);
        white-space: nowrap;
    }

    .btn {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        left: 50%;
        top: 40%;
        transform: translateX(-50%);
        text-decoration: none;
        color: #fff;
        border: #fff solid 0.2rem;
        width: 15rem;
        padding: 1.5rem;
        font-weight: 600;
        text-transform: uppercase;
    }

    .split.left .btn:hover {
        background: var(--left-btn-color);
        border-color: var(--left-btn-color);
    }
    .split.right .btn:hover {
        background: var(--right-btn-color);
        border-color: var(--right-btn-color);
    }

    .hover-left .left {
        width: var(--hover-width);
    }

    .hover-left .right {
        width: var(--collapse-width);
    }
    .hover-right .left {
        width: var(--collapse-width);
    }

    .hover-right .right {
        width: var(--hover-width);
    }

    .split.right,
    .split.left,
    .split.right::before,
    .split.left::before {
        transition: all 0.5s ease-in-out;
    }

    @media (max-width: 800px) {
        h1 {
            font-size: 2rem;
        }

        .btn {
            width: 12rem;
            padding: 1.2rem;
        }
    }
</style>

<script is:inline>
    const left = document.querySelector('.split.left')
    const right = document.querySelector('.split.right')
    const container = document.querySelector('.container')

    console.log(right)

    left.addEventListener('mouseenter', () => {
        container.classList.add('hover-left')
    })

    left.addEventListener('mouseleave', () => {
        container.classList.remove('hover-left')
    })

    right.addEventListener('mouseenter', () => {
        container.classList.add('hover-right')
    })

    right.addEventListener('mouseleave', () => {
        container.classList.remove('hover-right')
    })
</script>
