---
import Layout from '../../layouts/Layout.astro';
---

<style is:inline>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

    * {
        box-sizing: border-box;
    }

    .container {
        background-color: #522484;
        font-family: 'Roboto', sans-serif;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        overflow: hidden;
        margin: 0;
    }

    .btn {
        background-color: #fff;
        color: rebeccapurple;
        font-family: inherit;
        font-weight: bold;
        padding: 1rem;
        border-radius: 5px;
        border: none;
        cursor: pointer;
    }

    .btn:focus {
        outline: none;
    }

    .btn:active {
        transform: scale(0.9);
    }

    #toasts {
        position: fixed;
        bottom: 10px;
        right: 10px;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
    }

    .toast {
        background-color: #fff;
        color: rebeccapurple;
        border-radius: 5px;
        padding: 1rem 2rem;
        margin: 0.5rem;
        font-size: 14px;
    }

    .info {
        background-color: #1e90ff;
        color: #fff;
    }

    .success {
        background-color: #2ecc71;
        color: #fff;
    }

    .error {
        background-color: #ff4757;
        color: #fff;
    }
</style>

<Layout title="Toast Notification">
    <div class="container">
        <button class="btn" id="button">Show Notification</button>
    </div>
    <div id="toasts"></div>
</Layout>

<script is:inline>
    const button = document.getElementById('button');
    const toasts = document.getElementById('toasts');

    const messages = [
        'Hello World',
        'Hello World 2',
        'Hello World 3',
        'Hello World 4',
        'Hello World 5',
    ];

    const types = ['info', 'success', 'error'];

    button.addEventListener('click', () => createNotification());
    function createNotification() {
        const notif = document.createElement('div');
        notif.classList.add('toast');
        notif.classList.add(getRandomType());

        notif.innerText = getRandomMessage();
        toasts.appendChild(notif);
        setTimeout(() => {
            notif.remove();
        }, 2000);
    }

    function getRandomMessage() {
        return messages[Math.floor(Math.random() * messages.length)];
    }

    function getRandomType() {
        return types[Math.floor(Math.random() * types.length)];
    }
</script>
